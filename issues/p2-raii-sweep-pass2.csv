ID,Title,Description,Acceptance,Test_Method,Tools,Dev_Status,Review1_Status,Regression_Status,Files,Dependencies,Notes
D1,Stage4 generate_c.cc 清理局部 new/delete（RAII/栈对象）,在 stage4/generate_c/generate_c.cc 中将仅局部使用且所有权明确的 helper/临时对象从 raw pointer + new/delete 改为栈对象或 std::unique_ptr（保持输出与行为不变；不改 new_code_generator/delete_code_generator 的 raw pointer API）,该文件中相关 helper 不再需要手动 delete；编译通过；ctest 通过,"cmake --build build-vs --config Release | ctest --test-dir build-vs -C Release --output-on-failure",manual,DONE,DONE,TODO,stage4/generate_c/generate_c.cc,none,已验证：Windows Release cmake --build + ctest 66/66 通过
D2,Stage3 array_range_check 使用 unique_ptr 管理 search_varfb_instance_type,将 array_range_check_c 的 search_varfb_instance_type 从裸指针改为 std::unique_ptr 并通过 reset/make_unique 管理生命周期；移除 visit 中的手动 delete/置空（不改检查逻辑与报错行为）,不再手动 delete；编译通过；ctest 通过,"cmake --build build-vs --config Release | ctest --test-dir build-vs -C Release --output-on-failure",manual,DONE,DONE,TODO,"stage3/array_range_check.hh | stage3/array_range_check.cc",none,已验证：Windows Release build + ctest 66/66 通过
D3,Stage3 lvalue_check 使用 unique_ptr 管理 search_* 指针,将 lvalue_check_c 的 search_varfb_instance_type/search_var_instance_decl 从裸指针改为 std::unique_ptr 并通过 reset/make_unique 管理生命周期；移除 visit 中的手动 delete/置空（不改 lvalue 检查语义）,不再手动 delete；编译通过；ctest 通过,"cmake --build build-vs --config Release | ctest --test-dir build-vs -C Release --output-on-failure",manual,TODO,TODO,TODO,"stage3/lvalue_check.hh | stage3/lvalue_check.cc",none,none
D4,回归：P2 RAII Sweep Pass2,完成 D1-D3 后执行回归：Windows Release 全量 ctest + WSL(ASan+LSan) 全量 ctest（detect_leaks=1），并确认 CI（含 linux-x64-sanitizers 的 LSan 门禁）通过,Windows Release 全量 ctest 通过；WSL(ASan+LSan) 全量 ctest 通过；CI 绿,"wsl: ASAN_OPTIONS=detect_leaks=1 ctest --test-dir build-wsl-asan --output-on-failure | ctest --test-dir build-vs -C Release --output-on-failure",manual,TODO,TODO,TODO,N/A,"D1|D2|D3",none
