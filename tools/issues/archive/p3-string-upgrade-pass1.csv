ID,Title,Description,Acceptance,Test_Method,Tools,Dev_Status,Review1_Status,Regression_Status,Files,Dependencies,Notes
S1,设计文档：编译器字符串模型与边界（P3）,新增中文设计文档：说明 token/token_string、cstr_pool、string_view 的使用约定（NULL/空串语义、生命周期、禁止模式）并给出迁移策略（先改哪里、哪些保持兼容）。,新增 `docs/STRING-HANDLING.md` 且覆盖：现状/约束/风险/推荐用法/迁移顺序；不引入行为变更。,"manual: review docs",manual,DONE,DONE,DONE,docs/STRING-HANDLING.md,none,已落地（9f41286）：新增 `docs/STRING-HANDLING.md`
S2,提供 string_view/大小写无关比较工具并避免 NULL UB,新增轻量字符串工具：`sv_or_empty(const char*)`、`iequals(...)` 等；为 `nocasecmp_c` 补齐 NULL-safe 行为，避免把 NULL 直接传入 `std::string_view` 触发 UB。,新增工具头文件；核心模块编译通过；对外行为不变。,"cmake --build build-vs --config Release | ctest --test-dir build-vs -C Release --output-on-failure",manual,DONE,DONE,DONE,include/matiec/string_utils.hpp | absyntax/absyntax.hh,none,已落地（220807e|cdf6460|71abcf7）：新增工具与单测；本地 Windows Release 全量 ctest 已通过
S3,修复 nocasecmp 误用（当作 equals）并补单测,修复 `list_c::find_element` 与 `get_datatype_info_c::is_arraytype_equal_relaxed()` 中把 less-than comparator 当作 equals 的逻辑问题，改用 `matiec::iequals`；新增/补齐单测覆盖（至少覆盖 find_element 的大小写无关匹配）。,新增/更新单测；修复后逻辑语义与注释一致；Windows Release build+ctest 通过。,"cmake --build build-vs --config Release | ctest --test-dir build-vs -C Release --output-on-failure",manual,DONE,DONE,DONE,absyntax/absyntax.cc | absyntax_utils/get_datatype_info.cc | tests/unit/test_string_utils.cc | tests/CMakeLists.txt,S2,已落地（cdf6460）：修复 comparator 误用并新增用例；本地 Windows Release 全量 ctest 已通过
S4,统一 compile_string 临时文件生成（移除 MAX_PATH 固定缓冲区）,重构 `matiec_compile_string` 的临时文件生成：Windows 改用 `std::filesystem::temp_directory_path` + “随机名 + 独占创建” 方案，避免 `GetTempFileNameA/MAX_PATH` 固定缓冲区；保持行为与清理逻辑不变。,"Windows/Linux 构建与测试通过；`MatiecApiTest.CompileFromString` 等用例通过；临时文件仍会被清理。","cmake --build build-vs --config Release | ctest --test-dir build-vs -C Release --output-on-failure",manual,DONE,DONE,DONE,src/matiec_lib.cc,S2,已落地（bb6e245）：Windows 临时文件生成不再依赖 MAX_PATH；本地 Windows Release 全量 ctest 已通过
S5,回归：P3 字符串升级 Pass1,完成 S1-S4 后执行回归：Windows Release 全量 ctest + Linux(ASan+LSan detect_leaks=1) 全量 ctest，并确认 CI（含 linux-x64-sanitizers 的 LSan 门禁）通过。,Windows Release 全量 ctest 通过；Linux(ASan+LSan) 全量 ctest 通过；CI 绿。,"ctest --test-dir build-vs -C Release --output-on-failure | CI: linux-x64-sanitizers (ASan+LSan detect_leaks=1)",manual,DONE,DONE,DONE,N/A,S1|S2|S3|S4,CI 已通过（run 21291505370）：https://github.com/lusipad/matiec-cmake/actions/runs/21291505370
